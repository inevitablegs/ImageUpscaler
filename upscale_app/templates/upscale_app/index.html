{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Image Upscaler</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'poppins': ['Poppins', 'sans-serif'],
          },
          animation: {
            'float': 'float 4s ease-in-out infinite',
            'glow': 'glow 2s ease-in-out infinite alternate',
            'slide-left': 'slideLeft 0.8s ease-out',
            'slide-right': 'slideRight 0.8s ease-out',
            'scale-bounce': 'scaleBounce 0.6s ease-out',
            'gradient-x': 'gradientX 3s ease infinite',
            'wiggle': 'wiggle 1s ease-in-out infinite',
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0px) rotate(0deg)' },
              '50%': { transform: 'translateY(-20px) rotate(180deg)' },
            },
            glow: {
              '0%': { boxShadow: '0 0 20px rgba(168, 85, 247, 0.4)' },
              '100%': { boxShadow: '0 0 40px rgba(168, 85, 247, 0.8), 0 0 60px rgba(236, 72, 153, 0.4)' },
            },
            slideLeft: {
              '0%': { transform: 'translateX(-100px)', opacity: '0' },
              '100%': { transform: 'translateX(0)', opacity: '1' },
            },
            slideRight: {
              '0%': { transform: 'translateX(100px)', opacity: '0' },
              '100%': { transform: 'translateX(0)', opacity: '1' },
            },
            scaleBounce: {
              '0%': { transform: 'scale(0.3)', opacity: '0' },
              '50%': { transform: 'scale(1.05)' },
              '70%': { transform: 'scale(0.9)' },
              '100%': { transform: 'scale(1)', opacity: '1' },
            },
            gradientX: {
              '0%, 100%': { backgroundPosition: '0% 50%' },
              '50%': { backgroundPosition: '100% 50%' },
            },
            wiggle: {
              '0%, 100%': { transform: 'rotate(-3deg)' },
              '50%': { transform: 'rotate(3deg)' },
            }
          }
        }
      }
    }
  </script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #0a0a0a;
      color: #ffffff;
      overflow-x: hidden;
      overflow-y: auto;
    }
    
    .premium-bg {
      background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0f0f0f 100%);
      position: relative;
      min-height: 100vh;
    }
    
    .premium-bg::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 40% 70%, rgba(236, 72, 153, 0.03) 0%, transparent 50%);
      pointer-events: none;
    }
    
    .glass-card {
      background: rgba(255, 255, 255, 0.02);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.05);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
    
    .glass-white {
      background: rgba(30, 30, 30, 0.95);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .premium-border {
      border: 1px solid;
      border-image: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(139, 92, 246, 0.3), rgba(236, 72, 153, 0.3)) 1;
      box-shadow: 
        0 0 20px rgba(59, 130, 246, 0.1),
        inset 0 0 20px rgba(139, 92, 246, 0.05);
    }
    
    .hover-lift {
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .hover-lift:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    }
    
    .comparison-slider {
      position: relative;
      width: 100%;
      height: 400px;
      border-radius: 1.5rem;
      overflow: hidden;
      background: #000;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .comparison-slider .background-image,
    .comparison-slider .overlay-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    
    .comparison-slider .overlay-image {
      clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
      z-index: 2;
    }
    
    .slider-handle {
      position: absolute;
      top: 0;
      left: 50%;
      height: 100%;
      width: 4px;
      background: linear-gradient(to bottom, #3b82f6, #8b5cf6, #ec4899);
      cursor: ew-resize;
      z-index: 3;
      transform: translateX(-50%);
      box-shadow: 0 0 30px rgba(59, 130, 246, 0.6);
    }
    
    .slider-handle::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6, #ec4899);
      border: 3px solid rgba(255, 255, 255, 0.9);
      transform: translate(-50%, -50%);
      box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
      transition: all 0.3s ease;
    }
    
    .slider-handle:hover::before {
      transform: translate(-50%, -50%) scale(1.2);
      box-shadow: 0 15px 40px rgba(59, 130, 246, 0.6);
    }
    
    .slider-handle::after {
      content: 'â†”';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 20px;
      font-weight: bold;
      z-index: 1;
    }
    
    .comparison-label {
      position: absolute;
      top: 10px;
      padding: 8px 16px;
      color: white;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      backdrop-filter: blur(15px);
      border: 2px solid rgba(255, 255, 255, 0.3);
      z-index: 4;
    }
    
    @media (min-width: 1024px) {
      .comparison-label {
        top: 20px;
        padding: 12px 24px;
        font-size: 14px;
      }
    }
    
    .comparison-label-before {
      left: 10px;
      background: linear-gradient(135deg, rgba(239, 68, 68, 0.9), rgba(220, 38, 38, 0.8));
    }
    
    .comparison-label-after {
      right: 10px;
      background: linear-gradient(135deg, rgba(34, 197, 94, 0.9), rgba(22, 163, 74, 0.8));
    }
    
    @media (min-width: 1024px) {
      .comparison-label-before {
        left: 20px;
      }
      
      .comparison-label-after {
        right: 20px;
      }
    }
    
    .upload-zone {
      border: 2px dashed rgba(59, 130, 246, 0.3);
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.01);
    }
    
    .upload-zone::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
      transition: left 0.6s ease;
    }
    
    .upload-zone:hover::before {
      left: 100%;
    }
    
    .upload-zone:hover {
      border-color: #3b82f6;
      background: rgba(59, 130, 246, 0.05);
      transform: scale(1.02);
      box-shadow: 0 10px 30px rgba(59, 130, 246, 0.2);
    }
    
    .btn-gradient {
      background: linear-gradient(135deg, #3b82f6, #8b5cf6, #ec4899);
      background-size: 200% 200%;
      animation: gradientX 3s ease infinite;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .btn-gradient::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.5s ease;
    }
    
    .btn-gradient:hover::before {
      left: 100%;
    }
    
    .btn-gradient:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 20px 40px rgba(59, 130, 246, 0.3);
    }
    
    .floating-shapes {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      overflow: hidden;
      pointer-events: none;
      z-index: 0;
    }
    
    .shape {
      position: absolute;
      opacity: 0.03;
      animation: float 20s ease-in-out infinite;
    }
    
    .shape-1 {
      width: 300px;
      height: 300px;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
      top: -10%;
      left: -5%;
      animation-duration: 25s;
      animation-delay: 0s;
    }
    
    .shape-2 {
      width: 200px;
      height: 200px;
      background: linear-gradient(135deg, #8b5cf6, #ec4899);
      border-radius: 50%;
      top: 20%;
      right: -5%;
      animation-duration: 30s;
      animation-delay: -5s;
    }
    
    .shape-3 {
      width: 400px;
      height: 150px;
      background: linear-gradient(135deg, #ec4899, #f59e0b);
      border-radius: 100px;
      bottom: -5%;
      left: 10%;
      animation-duration: 35s;
      animation-delay: -10s;
    }
    
    .shape-4 {
      width: 250px;
      height: 250px;
      background: linear-gradient(135deg, #06b6d4, #3b82f6);
      border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%;
      top: 60%;
      right: 20%;
      animation-duration: 28s;
      animation-delay: -15s;
    }
    
    .shape-5 {
      width: 180px;
      height: 180px;
      background: linear-gradient(135deg, #10b981, #06b6d4);
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
      top: 10%;
      left: 30%;
      animation-duration: 22s;
      animation-delay: -8s;
    }
    
    @keyframes float {
      0%, 100% { 
        transform: translateY(0px) translateX(0px) rotate(0deg) scale(1);
      }
      25% { 
        transform: translateY(-30px) translateX(20px) rotate(90deg) scale(1.1);
      }
      50% { 
        transform: translateY(-60px) translateX(-10px) rotate(180deg) scale(0.9);
      }
      75% { 
        transform: translateY(-30px) translateX(-30px) rotate(270deg) scale(1.05);
      }
    }
    
    .premium-gradient-text {
      background: linear-gradient(135deg, #3b82f6, #8b5cf6, #ec4899);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 200% 200%;
      animation: gradientX 3s ease infinite;
    }
    
    .premium-card {
      background: rgba(20, 20, 20, 0.8);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.05);
      box-shadow: 
        0 10px 30px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }
    
    .glow-effect {
      position: relative;
    }
    
    .glow-effect::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6, #ec4899);
      border-radius: inherit;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .glow-effect:hover::before {
      opacity: 0.7;
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.7; }
    }
    
    @media (max-width: 1024px) {
      .two-column {
        grid-template-columns: 1fr;
      }
      
      .floating-shapes .shape {
        opacity: 0.02;
      }
      
      .shape-1 { width: 200px; height: 200px; }
      .shape-2 { width: 150px; height: 150px; }
      .shape-3 { width: 300px; height: 100px; }
      .shape-4 { width: 180px; height: 180px; }
      .shape-5 { width: 120px; height: 120px; }
    }
    
    @media (max-width: 768px) {
      .premium-gradient-text {
        font-size: 2.5rem;
        line-height: 1.2;
      }
      
      .comparison-slider {
        height: 300px;
      }
      
      .floating-shapes .shape {
        opacity: 0.01;
      }
      
      .shape-1 { width: 150px; height: 150px; }
      .shape-2 { width: 100px; height: 100px; }
      .shape-3 { width: 200px; height: 80px; }
      .shape-4 { width: 120px; height: 120px; }
      .shape-5 { width: 80px; height: 80px; }
      
      .glass-card, .premium-card {
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }
    }
    
    @media (max-width: 640px) {
      .premium-gradient-text {
        font-size: 2rem;
      }
      
      .comparison-slider {
        height: 250px;
      }
      
      .floating-shapes {
        display: none;
      }
      
      .text-5xl { font-size: 2.5rem; }
      .text-6xl { font-size: 3rem; }
      .text-4xl { font-size: 2rem; }
      .text-3xl { font-size: 1.75rem; }
      .text-2xl { font-size: 1.5rem; }
    }
  </style>
</head>
<body class="premium-bg font-poppins relative">
  <!-- Floating Shapes -->
  <div class="floating-shapes fixed inset-0">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
    <div class="shape shape-4"></div>
    <div class="shape shape-5"></div>
  </div>

  <div class="relative z-10">
    <!-- Navigation Header -->
    <nav class="fixed top-0 left-0 right-0 z-50 glass-card border-b border-white/10">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <!-- Logo -->
          <div class="flex items-center">
            <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl mr-3 flex items-center justify-center">
              <span class="text-white font-bold">AI</span>
            </div>
            <span class="text-white font-bold text-xl">Image Upscaler</span>
          </div>
          
          <!-- Navigation Links -->
          <div class="hidden md:flex items-center space-x-8">
            <button onclick="scrollToSection('upload-section')" class="text-gray-300 hover:text-white transition-colors duration-200 font-medium">
              Upload
            </button>
            <button onclick="scrollToSection('features-section')" class="text-gray-300 hover:text-white transition-colors duration-200 font-medium">
              Features
            </button>
            <button onclick="scrollToSection('upload-section')" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-full hover:scale-105 transition-transform duration-200 font-semibold">
              Get Started
            </button>
          </div>
          
          <!-- Mobile menu button -->
          <div class="md:hidden">
            <button class="text-gray-300 hover:text-white">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Two Column Layout -->
    <div class="grid lg:grid-cols-2 pt-16" id="upload-section">
      
      <!-- Left Column - Upload Section -->
      <div class="flex flex-col justify-center p-4 sm:p-6 lg:p-16 animate-slide-left">
        <div class="max-w-xl mx-auto w-full">
          <!-- Header -->
          <div class="text-center lg:text-left mb-8 lg:mb-12">
            <div class="inline-flex items-center justify-center w-16 h-16 lg:w-20 lg:h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl lg:rounded-3xl mb-4 lg:mb-6 animate-wiggle glow-effect">
              <span class="text-2xl lg:text-3xl">âš¡</span>
            </div>
            <h1 class="text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-black text-white mb-3 lg:mb-4 leading-tight">
              AI Image
              <span class="premium-gradient-text block sm:inline">
                Upscaler
              </span>
            </h1>
            <p class="text-base sm:text-lg lg:text-xl text-gray-300 mb-6 lg:mb-8 leading-relaxed px-4 sm:px-0">
              Transform your images with cutting-edge AI technology. 
              <span class="font-semibold premium-gradient-text block sm:inline">Enhance resolution up to 4Ã—</span> 
              while preserving every detail.
            </p>
          </div>

          <!-- Error Message -->
          {% if error %}
          <div class="premium-card rounded-xl lg:rounded-2xl p-4 lg:p-6 mb-6 lg:mb-8 border-l-4 border-red-500 animate-scale-bounce mx-4 sm:mx-0">
            <div class="flex items-center">
              <div class="w-8 h-8 lg:w-10 lg:h-10 bg-red-500 rounded-full flex items-center justify-center mr-3 lg:mr-4 flex-shrink-0">
                <svg class="w-4 h-4 lg:w-5 lg:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01"/>
                </svg>
              </div>
              <p class="text-red-300 font-semibold text-sm lg:text-base">{{ error }}</p>
            </div>
          </div>
          {% endif %}

          <!-- Upload Form -->
          <div class="premium-card rounded-2xl lg:rounded-3xl p-6 lg:p-8 premium-border hover-lift glow-effect mx-4 sm:mx-0">
            <form method="POST" enctype="multipart/form-data" class="space-y-6 lg:space-y-8">
              {% csrf_token %}
              
              <!-- Upload Zone -->
              <div class="upload-zone rounded-xl lg:rounded-2xl p-6 lg:p-8 text-center" id="upload-zone">
                <div class="space-y-4 lg:space-y-6">
                  <div class="mx-auto w-12 h-12 lg:w-16 lg:h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl lg:rounded-2xl flex items-center justify-center animate-float">
                    <svg class="w-6 h-6 lg:w-8 lg:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                    </svg>
                  </div>
                  
                  {{ form.image }}
                  
                  <div>
                    <h3 class="text-lg lg:text-xl font-bold text-white mb-2">Drop your image here</h3>
                    <p class="text-gray-400 text-sm lg:text-base">PNG, JPG, WebP â€¢ Max 10MB</p>
                  </div>
                  
                  <!-- Preview Container -->
                  <div class="preview-container hidden">
                    <div class="relative inline-block">
                      <img id="image-preview" class="max-w-full max-h-48 lg:max-h-60 rounded-lg lg:rounded-xl shadow-2xl" alt="Preview">
                      <button type="button" id="remove-image" class="absolute -top-2 -right-2 w-6 h-6 lg:w-8 lg:h-8 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all duration-200 flex items-center justify-center hidden hover:scale-110">
                        <svg class="w-3 h-3 lg:w-4 lg:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                      </button>
                    </div>
                    <p class="mt-3 lg:mt-4 text-xs lg:text-sm text-gray-400 font-medium" id="file-name"></p>
                  </div>
                </div>
              </div>
              
              <!-- Submit Button -->
              <button type="submit" class="w-full btn-gradient py-3 lg:py-4 text-white font-bold text-base lg:text-lg rounded-xl lg:rounded-2xl shadow-2xl">
                <span class="flex items-center justify-center">
                  <svg class="w-5 h-5 lg:w-6 lg:h-6 mr-2 lg:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                  </svg>
                  Enhance with AI Magic
                </span>
              </button>
            </form>
          </div>

          <!-- Features -->
          <div class="flex flex-wrap justify-center lg:justify-start gap-3 lg:gap-4 mt-6 lg:mt-8 px-4 sm:px-0">
            <div class="premium-card px-3 py-2 lg:px-4 lg:py-2 rounded-full text-gray-300 text-xs lg:text-sm font-medium hover-lift">
              âš¡ Lightning Fast
            </div>
            <div class="premium-card px-3 py-2 lg:px-4 lg:py-2 rounded-full text-gray-300 text-xs lg:text-sm font-medium hover-lift">
              ðŸŽ¯ AI Powered
            </div>
            <div class="premium-card px-3 py-2 lg:px-4 lg:py-2 rounded-full text-gray-300 text-xs lg:text-sm font-medium hover-lift">
              ðŸ“± Mobile Ready
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column - Results Section -->
      <div class="flex flex-col justify-center p-4 sm:p-6 lg:p-16 animate-slide-right">
        {% if original %}
        <div class="max-w-2xl mx-auto w-full space-y-6 lg:space-y-8">
          <!-- Results Header -->
          <div class="text-center px-4 sm:px-0">
            <h2 class="text-2xl sm:text-3xl lg:text-4xl font-black text-white mb-3 lg:mb-4">
              âœ¨ Amazing Results
            </h2>
            <p class="text-white/80 text-base lg:text-lg">See the incredible AI enhancement</p>
          </div>
          
          <!-- Image Comparison Slider -->
          {% if original and upscaled %}
          <div class="premium-card rounded-2xl lg:rounded-3xl p-4 lg:p-6 hover-lift animate-scale-bounce glow-effect mx-4 sm:mx-0">
            <div class="text-center mb-4 lg:mb-6">
              <h3 class="text-xl lg:text-2xl font-bold text-white mb-2">Before â†’ After</h3>
              <p class="text-gray-400 text-sm lg:text-base">Drag to compare</p>
            </div>
            
            <div class="comparison-slider">
              <img src="{{ upscaled }}" alt="Enhanced image" class="background-image">
              <img src="{{ original }}" alt="Original image" class="overlay-image" id="overlay-img">
              <div class="slider-handle" id="slider-handle"></div>
              <div class="comparison-label comparison-label-before">Original</div>
              <div class="comparison-label comparison-label-after">Enhanced 4Ã—</div>
            </div>
          </div>
          {% endif %}
          
          <!-- Image Stats -->
          <div class="grid grid-cols-2 gap-3 lg:gap-4 mx-4 sm:mx-0">
            <div class="premium-card rounded-xl lg:rounded-2xl p-4 lg:p-6 text-center hover-lift glow-effect">
              <div class="w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg lg:rounded-xl mx-auto mb-2 lg:mb-3 flex items-center justify-center">
                <span class="text-white font-bold text-sm lg:text-base">ðŸ“·</span>
              </div>
              <h4 class="text-white font-bold mb-1 text-sm lg:text-base">Original</h4>
              {% if original_width and original_height %}
              <p class="text-gray-400 text-xs lg:text-sm">{{ original_width }} Ã— {{ original_height }}</p>
              {% endif %}
            </div>
            
            <div class="premium-card rounded-xl lg:rounded-2xl p-4 lg:p-6 text-center hover-lift glow-effect">
              <div class="w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg lg:rounded-xl mx-auto mb-2 lg:mb-3 flex items-center justify-center">
                <span class="text-white font-bold text-sm lg:text-base">âœ¨</span>
              </div>
              <h4 class="text-white font-bold mb-1 text-sm lg:text-base">Enhanced</h4>
              {% if upscaled_width and upscaled_height %}
              <p class="text-gray-400 text-xs lg:text-sm">{{ upscaled_width }} Ã— {{ upscaled_height }}</p>
              {% endif %}
            </div>
          </div>

          <!-- Download Button -->
          {% if upscaled %}
          <div class="text-center px-4 sm:px-0">
            <a href="{{ upscaled }}" 
               download="enhanced_{{ original|cut:'media/' }}"
               class="inline-flex items-center px-6 py-3 lg:px-8 lg:py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white font-bold text-base lg:text-lg rounded-xl lg:rounded-2xl shadow-xl hover:shadow-2xl transform hover:-translate-y-2 hover:scale-105 transition-all duration-300">
              <svg class="w-5 h-5 lg:w-6 lg:h-6 mr-2 lg:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
              </svg>
              Download Enhanced Image
            </a>
          </div>
          {% else %}
          <!-- Placeholder when no results -->
          <div class="premium-card rounded-2xl lg:rounded-3xl p-8 lg:p-12 text-center glow-effect mx-4 sm:mx-0">
            <div class="w-16 h-16 lg:w-20 lg:h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mx-auto mb-4 lg:mb-6 flex items-center justify-center animate-float">
              <span class="text-2xl lg:text-3xl">ðŸŽ¨</span>
            </div>
            <h3 class="text-xl lg:text-2xl font-bold text-white mb-3 lg:mb-4">Ready to Enhance</h3>
            <p class="text-gray-400 text-base lg:text-lg">Upload an image to see the magic happen!</p>
          </div>
          {% endif %}
        </div>
        
        {% else %}
        <!-- Default Right Column Content -->
        <div class="max-w-xl mx-auto w-full text-center px-4 sm:px-0">
          <div class="premium-card rounded-2xl lg:rounded-3xl p-8 lg:p-12 glow-effect">
            <div class="w-20 h-20 lg:w-24 lg:h-24 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mx-auto mb-6 lg:mb-8 flex items-center justify-center animate-float">
              <span class="text-3xl lg:text-4xl">ðŸŽ¨</span>
            </div>
            <h2 class="text-2xl lg:text-3xl font-black text-white mb-4 lg:mb-6">
              Ready to Transform
            </h2>
            <p class="text-gray-300 text-base lg:text-lg mb-6 lg:mb-8">
              Your enhanced images will appear here. Get ready to be amazed by the AI magic!
            </p>
            
            <!-- Sample Features -->
            <div class="space-y-3 lg:space-y-4">
              <div class="flex items-center justify-center text-gray-400 text-sm lg:text-base">
                <svg class="w-4 h-4 lg:w-5 lg:h-5 mr-2 lg:mr-3 text-green-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
                4Ã— Resolution Enhancement
              </div>
              <div class="flex items-center justify-center text-gray-400 text-sm lg:text-base">
                <svg class="w-4 h-4 lg:w-5 lg:h-5 mr-2 lg:mr-3 text-green-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
                Detail Preservation
              </div>
              <div class="flex items-center justify-center text-gray-400 text-sm lg:text-base">
                <svg class="w-4 h-4 lg:w-5 lg:h-5 mr-2 lg:mr-3 text-green-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
                Instant Processing
              </div>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
    </div>

    <!-- Footer -->
    <div class="text-center py-12 lg:py-16 px-4 lg:px-8" id="features-section">
      <div class="max-w-4xl mx-auto">
        <!-- Main Footer Content -->
        <div class="premium-card rounded-2xl lg:rounded-3xl p-8 lg:p-12 hover-lift glow-effect mb-6 lg:mb-8">
          <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 mb-6 lg:mb-8">
            <!-- AI Features -->
            <div class="text-center">
              <div class="w-12 h-12 lg:w-16 lg:h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl lg:rounded-2xl mx-auto mb-3 lg:mb-4 flex items-center justify-center animate-float">
                <svg class="w-6 h-6 lg:w-8 lg:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                </svg>
              </div>
              <h3 class="text-lg lg:text-xl font-bold text-white mb-2">AI Powered</h3>
              <p class="text-gray-400 text-sm lg:text-base">Advanced Real-ESRGAN technology for superior image enhancement</p>
            </div>
            
            <!-- Quality -->
            <div class="text-center">
              <div class="w-12 h-12 lg:w-16 lg:h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl lg:rounded-2xl mx-auto mb-3 lg:mb-4 flex items-center justify-center animate-float" style="animation-delay: 0.5s;">
                <svg class="w-6 h-6 lg:w-8 lg:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                </svg>
              </div>
              <h3 class="text-lg lg:text-xl font-bold text-white mb-2">4Ã— Enhancement</h3>
              <p class="text-gray-400 text-sm lg:text-base">Upscale images up to 4 times with incredible detail preservation</p>
            </div>
            
            <!-- Speed -->
            <div class="text-center sm:col-span-2 lg:col-span-1">
              <div class="w-12 h-12 lg:w-16 lg:h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl lg:rounded-2xl mx-auto mb-3 lg:mb-4 flex items-center justify-center animate-float" style="animation-delay: 1s;">
                <svg class="w-6 h-6 lg:w-8 lg:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
              </div>
              <h3 class="text-lg lg:text-xl font-bold text-white mb-2">Lightning Fast</h3>
              <p class="text-gray-400 text-sm lg:text-base">Process your images in seconds with optimized performance</p>
            </div>
          </div>
          
          <!-- Supported Formats -->
          <div class="border-t border-white/10 pt-6 lg:pt-8">
            <h4 class="text-white font-bold mb-3 lg:mb-4 text-base lg:text-lg">Supported Formats</h4>
            <div class="flex flex-wrap justify-center gap-2 lg:gap-3">
              <span class="px-3 py-1 lg:px-4 lg:py-2 bg-white/5 rounded-full text-xs lg:text-sm text-gray-300 border border-white/10">PNG</span>
              <span class="px-3 py-1 lg:px-4 lg:py-2 bg-white/5 rounded-full text-xs lg:text-sm text-gray-300 border border-white/10">JPG</span>
              <span class="px-3 py-1 lg:px-4 lg:py-2 bg-white/5 rounded-full text-xs lg:text-sm text-gray-300 border border-white/10">JPEG</span>
              <span class="px-3 py-1 lg:px-4 lg:py-2 bg-white/5 rounded-full text-xs lg:text-sm text-gray-300 border border-white/10">WebP</span>
            </div>
          </div>
        </div>
        
        <!-- Copyright -->
        <div class="premium-card inline-flex items-center px-4 py-3 lg:px-6 lg:py-4 rounded-full hover-lift glow-effect">
          <div class="w-6 h-6 lg:w-8 lg:h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mr-2 lg:mr-3 flex items-center justify-center flex-shrink-0">
            <svg class="w-3 h-3 lg:w-4 lg:h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
            </svg>
          </div>
          <span class="text-gray-300 font-semibold text-xs lg:text-sm text-center">Powered by Real-ESRGAN â€¢ Â© 2025 AI Image Upscaler</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // File input handling
    const fileInput = document.querySelector('input[type="file"]');
    const uploadZone = document.getElementById('upload-zone');
    const previewContainer = document.querySelector('.preview-container');
    const imagePreview = document.getElementById('image-preview');
    const removeButton = document.getElementById('remove-image');
    const fileName = document.getElementById('file-name');

    // Drag and drop functionality
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      uploadZone.addEventListener(eventName, preventDefaults, false);
    });

    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }

    ['dragenter', 'dragover'].forEach(eventName => {
      uploadZone.addEventListener(eventName, highlight, false);
    });

    ['dragleave', 'drop'].forEach(eventName => {
      uploadZone.addEventListener(eventName, unhighlight, false);
    });

    function highlight(e) {
      uploadZone.style.borderColor = '#3b82f6';
      uploadZone.style.backgroundColor = 'rgba(59, 130, 246, 0.1)';
      uploadZone.style.transform = 'scale(1.02)';
    }

    function unhighlight(e) {
      uploadZone.style.borderColor = 'rgba(59, 130, 246, 0.3)';
      uploadZone.style.backgroundColor = 'rgba(255, 255, 255, 0.01)';
      uploadZone.style.transform = 'scale(1)';
    }

    uploadZone.addEventListener('drop', handleDrop, false);

    function handleDrop(e) {
      const dt = e.dataTransfer;
      const files = dt.files;
      if (files.length > 0) {
        fileInput.files = files;
        handleFileSelect(files[0]);
      }
    }

    // File selection handling
    if (fileInput) {
      fileInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
          handleFileSelect(file);
        }
      });
    }

    function handleFileSelect(file) {
      const reader = new FileReader();
      
      reader.onload = function(e) {
        previewContainer.classList.remove('hidden');
        imagePreview.src = e.target.result;
        removeButton.classList.remove('hidden');
        fileName.textContent = `âœ¨ ${file.name}`;
      };

      reader.readAsDataURL(file);
    }

    // Remove image functionality
    if (removeButton) {
      removeButton.addEventListener('click', function() {
        fileInput.value = '';
        previewContainer.classList.add('hidden');
        removeButton.classList.add('hidden');
        fileName.textContent = '';
      });
    }

    // Image comparison slider
    document.addEventListener('DOMContentLoaded', function() {
      const slider = document.querySelector('.comparison-slider');
      if (slider) {
        const overlayImg = document.getElementById('overlay-img');
        const handle = document.getElementById('slider-handle');
        let isResizing = false;

        function updateSlider(percent) {
          overlayImg.style.clipPath = `polygon(0 0, ${percent}% 0, ${percent}% 100%, 0 100%)`;
          handle.style.left = percent + '%';
        }

        // Mouse events
        handle.addEventListener('mousedown', function(e) {
          isResizing = true;
          document.body.style.cursor = 'ew-resize';
          e.preventDefault();
        });

        document.addEventListener('mousemove', function(e) {
          if (!isResizing) return;
          
          const sliderRect = slider.getBoundingClientRect();
          let x = e.clientX - sliderRect.left;
          x = Math.max(0, Math.min(x, sliderRect.width));
          const percent = (x / sliderRect.width) * 100;
          updateSlider(percent);
        });

        document.addEventListener('mouseup', function() {
          isResizing = false;
          document.body.style.cursor = '';
        });

        // Touch events
        handle.addEventListener('touchstart', function(e) {
          isResizing = true;
          e.preventDefault();
        });

        document.addEventListener('touchmove', function(e) {
          if (!isResizing) return;
          
          const sliderRect = slider.getBoundingClientRect();
          let x = e.touches[0].clientX - sliderRect.left;
          x = Math.max(0, Math.min(x, sliderRect.width));
          const percent = (x / sliderRect.width) * 100;
          updateSlider(percent);
        });

        document.addEventListener('touchend', function() {
          isResizing = false;
        });

        // Click to move slider
        slider.addEventListener('click', function(e) {
          if (e.target === handle) return;
          
          const sliderRect = slider.getBoundingClientRect();
          let x = e.clientX - sliderRect.left;
          x = Math.max(0, Math.min(x, sliderRect.width));
          const percent = (x / sliderRect.width) * 100;
          updateSlider(percent);
        });
      }
    });

    // Add smooth entrance animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.animationDelay = '0.2s';
          entry.target.classList.add('animate-scale-bounce');
        }
      });
    }, observerOptions);

    // Observe all hover-lift elements
    document.querySelectorAll('.hover-lift').forEach(el => {
      observer.observe(el);
    });

    // Smooth scrolling functionality
    function scrollToSection(sectionId) {
      const element = document.getElementById(sectionId);
      if (element) {
        element.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    }

    // Make scroll functions globally available
    window.scrollToSection = scrollToSection;

    // Enhanced page scroll behavior
    document.addEventListener('click', function(e) {
      // Handle any scroll-to functionality if needed
      if (e.target.dataset && e.target.dataset.scrollTo) {
        const targetElement = document.querySelector(e.target.dataset.scrollTo);
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'center'
          });
        }
      }
    });
  </script>
</body>
</html>